!function(t){"use strict";var e,a,n=20,o=function(t,e){e="modal__rule--"+(e||"");var a=document.querySelector("head"),n=document.getElementById(e),o=null;n?o=n:(o=document.createElement("style"),o.id=e,a.appendChild(o)),o.styleSheet?o.styleSheet.cssText=t:o.innerHTML=t},d=function(){var t=e.activeElement;t&&(a=t.getAttribute("data-cssmodal-maxwidth"),(a=parseInt(a,10))&&o("[data-cssmodal-maxwidth] .modal-inner {max-width: "+a+"px;margin-left: -"+a/2+"px;}[data-cssmodal-maxwidth] .modal-close:after {margin-right: -"+a/2+"px !important;}",t.id))},i=function(){var d=t.innerWidth||document.documentElement.clientWidth,i=e.activeElement,m=10;!i||!a||d>a||(n=parseInt(i.getAttribute("data-cssmodal-margin"),10)||n,a=d-2*n,d>480&&(m="-"+Math.floor(a/2)),o("[data-cssmodal-maxwidth] .modal-inner {max-width: "+a+"px;margin-left: -"+a/2+"px;}[data-cssmodal-maxwidth] .modal-close:after {margin-right: "+m+"px !important;}",i.id))},m={scaleMaxSize:d},l=function(t){return e=t,e.on("cssmodal:show",document,function(){d(),i()}),e.on("resize",window,function(){d(),i()}),m};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=m:"function"==typeof define&&define.amd?define(["CSSModal"],l):"object"==typeof t&&"object"==typeof t.document&&l(t.CSSModal)}(window);